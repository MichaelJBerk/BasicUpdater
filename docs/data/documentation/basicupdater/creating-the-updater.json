{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Setting-up-the-Updater","level":2,"type":"heading","text":"Setting up the Updater"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To start, you’ll need to create the Updater object. It requires the GitHub URL for your project, and a closure. We’ll look at the closure in the next section."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The recommended approach is to create the Updater as a static variable in the "},{"type":"codeVoice","code":"NSApplicationDelegate"},{"type":"text","text":" for an AppKit app:"}]},{"type":"codeListing","syntax":"swift","code":["class AppDelegate: NSObject, NSApplicationDelegate {","","\t\/\/...","","\tstatic let updater = Updater(...)","","\t\/\/...","","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"…or as a variable in the "},{"type":"codeVoice","code":"App"},{"type":"text","text":" struct in a SwiftUI app."}]},{"type":"codeListing","syntax":"swift","code":["struct MyCoolApp: App {","\t","\t\/\/...","","\tstatic let updater = Updater(...)","","\t\/\/...","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To access the Updater object from a view, you can eithr call the static variable, or pass the updater as an EnvironmentObject in SwiftUI."}]},{"anchor":"Determining-if-the-User-Should-Update-to-a-Release","level":2,"type":"heading","text":"Determining if the User Should Update to a Release"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to determine if the user should be prompted to update to a given version, BasicUpdater uses a closure provided in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Updater\/init(projectURL:userDefaultsSuite:autoCheckByDefault:shouldUpdateTo:assetToUse:)"},{"type":"text","text":" initalizer which recieves a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubRelease"},{"type":"text","text":" as input, and returns a Boolean value determining whether or not the user should be prompted to update to that release. Use this to define whaterver criteria is needed for a given release to be considered “newer” than the current version the being used. For example, you can use Regex on "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubRelease\/tagName"},{"type":"text","text":" to get the build number, and if it’s greater than the current one, return "},{"type":"codeVoice","code":"true"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["let updater = Updater(projectURL: ..., shouldUpdateTo: { release in","\t\/\/Example: `release.tagName` is \"5.0.3-307\"","\tlet regexStr = #\"\\d*$\"#","\tlet tag = release.tagName","\tlet range = tag.range(of: regexStr, options: .regularExpression)!","\tlet newBuildStr = String(tag[range])","\tlet newBuildNum = Int(newBuildStr)!","\tlet currentBuildStr = Bundle.main.infoDictionary?[\"CFBundleVersion\"] as! String","\tlet currentBuildNum = Int(currentBuildStr)!","\treturn newBuildNum > currentBuildNum","})"]},{"anchor":"Determining-Which-Asset-to-Use","level":2,"type":"heading","text":"Determining Which Asset to Use"},{"type":"paragraph","inlineContent":[{"type":"text","text":"By default, the Updater will use the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubAsset\/browserDownloadURL"},{"type":"text","text":" from the first asset in a given "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubRelease"},{"type":"text","text":". This can be customized by using the "},{"type":"codeVoice","code":"assetToUse"},{"type":"text","text":" closure in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Updater\/init(projectURL:userDefaultsSuite:autoCheckByDefault:shouldUpdateTo:assetToUse:)"},{"type":"text","text":" initalizer."}]},{"type":"codeListing","syntax":"swift","code":["let updater = Updater(projectURL: ..., shouldUpdateTo: { release in","\t\/\/...","},  assetToUse: { assets in","\treturn assets.first!","})",""]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/basicupdater\/creating-the-updater"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Creating-the-Updater","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Create the "},{"type":"codeVoice","code":"Updater"},{"type":"text","text":" object, determine whether a new version is available, and choose which asset to use."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Creating the Updater","role":"article","modules":[{"name":"BasicUpdater"}]},"hierarchy":{"paths":[["doc:\/\/BasicUpdater\/documentation\/BasicUpdater"],["doc:\/\/BasicUpdater\/documentation\/BasicUpdater","doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Updater"]]},"seeAlsoSections":[{"title":"Updater","identifiers":["doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Updater","doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Checking-for-Updates","doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Skipping-Versions"],"generated":true}],"references":{"doc://BasicUpdater/documentation/BasicUpdater/GithubRelease":{"role":"symbol","title":"GithubRelease","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"GithubRelease"}],"abstract":[],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubRelease","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"GithubRelease"}],"url":"\/documentation\/basicupdater\/githubrelease"},"doc://BasicUpdater/documentation/BasicUpdater/GithubAsset/browserDownloadURL":{"role":"symbol","title":"browserDownloadURL","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"browserDownloadURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"}],"abstract":[],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubAsset\/browserDownloadURL","kind":"symbol","type":"topic","url":"\/documentation\/basicupdater\/githubasset\/browserdownloadurl"},"doc://BasicUpdater/documentation/BasicUpdater/GithubRelease/tagName":{"role":"symbol","title":"tagName","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"tagName"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[{"type":"text","text":"The name of the tag."}],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/GithubRelease\/tagName","kind":"symbol","type":"topic","url":"\/documentation\/basicupdater\/githubrelease\/tagname"},"doc://BasicUpdater/documentation/BasicUpdater/Updater":{"role":"symbol","title":"Updater","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Updater"}],"abstract":[{"type":"text","text":"Object that manages checking and prompting for updates"}],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Updater","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Updater"}],"url":"\/documentation\/basicupdater\/updater"},"doc://BasicUpdater/documentation/BasicUpdater":{"role":"collection","title":"BasicUpdater","abstract":[{"type":"text","text":"Prompt users to download updates for you Mac app using GitHub Releases"}],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater","kind":"symbol","type":"topic","url":"\/documentation\/basicupdater"},"doc://BasicUpdater/documentation/BasicUpdater/Updater/init(projectURL:userDefaultsSuite:autoCheckByDefault:shouldUpdateTo:assetToUse:)":{"role":"symbol","title":"init(projectURL:userDefaultsSuite:autoCheckByDefault:shouldUpdateTo:assetToUse:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"projectURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"!, "},{"kind":"externalParam","text":"userDefaultsSuite"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"autoCheckByDefault"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"shouldUpdateTo"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"GithubRelease","preciseIdentifier":"s:12BasicUpdater13GithubReleaseV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"assetToUse"},{"kind":"text","text":": ((["},{"kind":"typeIdentifier","text":"GithubAsset","preciseIdentifier":"s:12BasicUpdater11GithubAssetV"},{"kind":"text","text":"]) -> "},{"kind":"typeIdentifier","text":"GithubAsset","preciseIdentifier":"s:12BasicUpdater11GithubAssetV"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"Create a new Updater object"}],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Updater\/init(projectURL:userDefaultsSuite:autoCheckByDefault:shouldUpdateTo:assetToUse:)","kind":"symbol","type":"topic","url":"\/documentation\/basicupdater\/updater\/init(projecturl:userdefaultssuite:autocheckbydefault:shouldupdateto:assettouse:)"},"doc://BasicUpdater/documentation/BasicUpdater/Checking-for-Updates":{"role":"article","title":"Checking for Updates","abstract":[{"type":"text","text":"Learn how to check for updates manually, and configure automatic update prompts"}],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Checking-for-Updates","kind":"article","type":"topic","url":"\/documentation\/basicupdater\/checking-for-updates"},"doc://BasicUpdater/documentation/BasicUpdater/Skipping-Versions":{"role":"article","title":"Skipping Versions","abstract":[{"type":"text","text":"Manage which versions of the app that the user has chosen to ignore"}],"identifier":"doc:\/\/BasicUpdater\/documentation\/BasicUpdater\/Skipping-Versions","kind":"article","type":"topic","url":"\/documentation\/basicupdater\/skipping-versions"}}}